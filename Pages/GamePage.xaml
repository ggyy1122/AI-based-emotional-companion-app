<Page x:Class="TowerDefenseGame.GamePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:local="clr-namespace:TowerDefenseGame"
      mc:Ignorable="d"
      Title="炮塔防御"
      MouseMove="Page_MouseMove"
      Loaded="Page_Loaded"
      Unloaded="Page_Unloaded">
 

    <Grid>
        <!-- 星光背景层（置于最底层） -->
        <Canvas x:Name="StarfieldCanvas" Panel.ZIndex="-1" CacheMode="BitmapCache">
            <Canvas.Background>
                <SolidColorBrush Color="Black"/>
            </Canvas.Background>
        </Canvas>

        <Canvas x:Name="GameCanvas" Background="Transparent">
            <!-- 炮塔底座 -->
            <Image x:Name="TowerBase" Source="pack://application:,,,/Resources/tower_base.png" 
                   Width="60" Height="60"
                   Canvas.Left="370" Canvas.Top="270" Stretch="Uniform"/>

            <!-- 炮管（可旋转的图片） -->
            <Image x:Name="TowerGun" Source="pack://application:,,,/Resources/static_rocket.png" 
                   Width="60" Height="39"
                   Canvas.Left="370" Canvas.Top="280" Stretch="Uniform">
                <Image.RenderTransform>
                    <RotateTransform x:Name="Rotate" Angle="0"/>
                </Image.RenderTransform>
            </Image>

            <TextBlock x:Name="ScoreText" Foreground="White" FontSize="15" 
                       Canvas.Left="10" Canvas.Bottom="10" 
                       Text="当前分数: 0 (最高分数: 0)"/>
            <Button x:Name="BackButton" Content="← 返回"
              Click="BackButton_Click"
              Foreground="White" Background="Transparent"
              BorderThickness="0" FontSize="14"
                Canvas.Left="5" Canvas.Top="10"/>   

        </Canvas>
    </Grid>
</Page>










<!-- 炮塔 --><!--
<Ellipse x:Name="TowerBase" Width="50" Height="50" Fill="DarkGray" 
          Canvas.Left="375" Canvas.Top="275"/>
<Rectangle x:Name="TowerGun" Width="30" Height="10" Fill="Gray" 
            RenderTransformOrigin="0.5,0.5"
            Canvas.Left="385" Canvas.Top="295"/>

--><!-- 分数显示 --><!--
<TextBlock x:Name="ScoreText" Foreground="White" FontSize="24" 
            Canvas.Left="10" Canvas.Top="10" Text="当前分数: 0 (最高分数: 0)"/>-->