<Page x:Class="GameApp.Pages.AIChatPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="AI Voice Interaction">

    <Grid Background="#F8F9FA">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="*"/>
            <!-- Chat content -->
            <RowDefinition Height="Auto"/>
            <!-- Input area -->
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0"
                Background="#4A90E2"
                Padding="10,8">
            <Grid>
                <!-- Back Button with Image -->
                <Button Click="BackToMainPage_Click"
                        HorizontalAlignment="Left"
                        Background="Transparent"
                        BorderThickness="0"
                        Margin="8,0,0,0">
                    <Image Source="/Resources/ChatPage/home.png"
                           Width="20"
                           Height="20"/>
                </Button>

                <TextBlock Text="AI Assistant"
                           Foreground="White"
                           FontSize="16"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Chat Content Area -->
        <ScrollViewer Grid.Row="1"
                      x:Name="ChatScrollViewer"
                      VerticalScrollBarVisibility="Auto"
                      Padding="12"
                      Margin="0,0,0,5">
            <StackPanel x:Name="MessagesPanel">
                <!-- Messages will be added here dynamically -->
            </StackPanel>
        </ScrollViewer>

        <!-- Input Area -->
        <Border Grid.Row="2"
                Background="White"
                Margin="0,5,0,12"
                HorizontalAlignment="Stretch">
            <Grid x:Name="InputGrid"
                  MaxWidth="1000">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Attach Button -->
                <Button Grid.Column="0"
                        x:Name="AttachButton"
                        Width="42"
                        Height="42"
                        Margin="8,0,8,0"
                        Background="Transparent"
                        BorderThickness="1"
                        BorderBrush="#E0E0E0"
                        ToolTip="Attach File">
                    <Image Source="/Resources/ChatPage/attach_icon.png"
                           Width="20"
                           Height="20"/>
                </Button>

                <!-- Text Input -->
                <TextBox Grid.Column="1"
                         x:Name="MessageInput"
                         Height="42"
                         Margin="0,0,8,0"
                         TextWrapping="Wrap"
                         VerticalContentAlignment="Center"
                         Padding="12,0,12,0"
                         BorderBrush="#E0E0E0"
                         Text="Type your message here..."/>

                <!-- Voice Button -->
                <Button Grid.Column="2"
                        x:Name="VoiceInputButton"
                        Width="42"
                        Height="42"
                        Margin="0,0,8,0"
                        Background="Transparent"
                        BorderThickness="1"
                        BorderBrush="#E0E0E0"
                        ToolTip="Voice Input">
                    <Image Source="/Resources/ChatPage/microphone_icon.png"
                           Width="20"
                           Height="20"/>
                </Button>

                <!-- Stop Button -->
                <Button Grid.Column="3"
                        x:Name="StopButton"
                        Width="42"
                        Height="42"
                        Margin="0,0,8,0"
                        Background="Transparent"
                        BorderThickness="1"
                        BorderBrush="#E0E0E0"
                        ToolTip="Stop">
                    <Image Source="/Resources/ChatPage/stop_icon.png"
                           Width="20"
                           Height="20"/>
                </Button>

                <!-- Send Button -->
                <Button Grid.Column="4"
                        x:Name="SendButton"
                        Width="42"
                        Height="42"
                        Margin="0,0,8,0"
                        Background="Transparent"
                        BorderThickness="1"
                        BorderBrush="#3A80D2"
                        ToolTip="Send Message">
                    <Image Source="/Resources/ChatPage/send_icon.png"
                           Width="20"
                           Height="20"/>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Page>
